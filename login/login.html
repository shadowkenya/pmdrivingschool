<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Login</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    body { font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; }
    #wave-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
    .frosted-glass {
        backdrop-filter: blur(10px) brightness(80%);
        background-color: rgba(30, 41, 59, 0.4);
    }
    .modal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
        z-index: 50;
    }
</style>
</head>
<body class="bg-slate-900 text-white">
<canvas id="wave-canvas"></canvas>

<!-- Login Form -->
<div class="min-h-screen flex items-center justify-center p-4">
    <div class="frosted-glass rounded-3xl p-8 max-w-sm w-full border border-slate-700 shadow-2xl">
        <h2 class="text-3xl font-bold text-center mb-6 text-white">Student Login</h2>
        <form id="loginForm">
            <div class="mb-4">
                <label for="loginEmail" class="block text-sm font-medium text-slate-300 mb-2">Email</label>
                <input type="email" id="loginEmail" name="loginEmail" class="w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500" placeholder="Enter your email">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-slate-300 mb-2">Password</label>
                <input type="password" id="loginPassword" name="loginPassword" class="w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500" placeholder="Enter your password">
            </div>
            <button type="submit" class="w-full py-3 rounded-lg bg-violet-500 text-white font-semibold hover:bg-violet-600 transition-all">
                Login
            </button>
        </form>
        <div class="mt-4 text-center">
            <a href="#" id="forgotLink" class="text-violet-400 hover:underline">Forgot Password?</a>
        </div>
        <div class="mt-2 text-center">
            <span>Don't have an account?</span>
            <a href="#" id="registerLink" class="text-violet-400 hover:underline">Register</a>
        </div>
    </div>
</div>

<!-- Register Modal -->
<div id="registerModal" class="modal flex">
    <div class="bg-slate-800 p-6 rounded-2xl w-96">
        <h3 class="text-xl mb-4 text-center">Register</h3>
        <input type="text" id="regName" placeholder="Full Name" class="w-full mb-3 px-4 py-2 rounded-lg bg-slate-700 text-white">
        <input type="email" id="regEmail" placeholder="Email" class="w-full mb-3 px-4 py-2 rounded-lg bg-slate-700 text-white">
        <input type="password" id="regPassword" placeholder="Password" class="w-full mb-3 px-4 py-2 rounded-lg bg-slate-700 text-white">
        <button id="registerBtn" class="w-full py-2 bg-violet-500 rounded-lg hover:bg-violet-600">Register</button>
    </div>
</div>

<!-- Forgot Password Modal -->
<div id="forgotModal" class="modal flex">
    <div class="bg-slate-800 p-6 rounded-2xl w-96">
        <h3 class="text-xl mb-4 text-center">Reset Password</h3>
        <input type="email" id="resetEmail" placeholder="Email" class="w-full mb-3 px-4 py-2 rounded-lg bg-slate-700 text-white">
        <input type="password" id="resetPassword" placeholder="New Password" class="w-full mb-3 px-4 py-2 rounded-lg bg-slate-700 text-white">
        <button id="resetBtn" class="w-full py-2 bg-violet-500 rounded-lg hover:bg-violet-600">Reset</button>
    </div>
</div>

<!-- Dashboard Popup Modal -->
<div id="dashboardModal" class="modal flex">
    <div class="bg-slate-800 p-8 rounded-2xl w-96 text-center shadow-xl">
        <h2 class="text-2xl font-bold mb-4">Dashboard Coming Soon</h2>
        <p class="text-slate-300 mb-6">Weâ€™re working hard to bring you amazing features.</p>
        <button id="closeDashboard" class="py-2 px-6 bg-violet-500 rounded-lg hover:bg-violet-600">Close</button>
    </div>
</div>

<script>
(function() {
    // --- 3D Background ---
    const canvas = document.getElementById('wave-canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setClearColor(0x000000, 0);
    camera.position.z = 2;

    const vertexShader = `
        uniform float u_time;
        uniform float u_speed;
        uniform float u_frequency;
        uniform float u_amplitude;
        varying float v_z;
        void main() {
            float z = sin(position.x * u_frequency + u_time * u_speed) * u_amplitude;
            z += sin(position.y * u_frequency * 1.5 + u_time * u_speed * 1.2) * u_amplitude * 0.7;
            z += sin(position.z * u_frequency * 2.0 + u_time * u_speed * 0.8) * u_amplitude * 0.5;
            v_z = z;
            vec3 newPosition = position + vec3(0.0, 0.0, z);
            gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);
        }
    `;
    const fragmentShader = `
        uniform float u_time;
        uniform float u_brightness;
        varying float v_z;
        void main() {
            vec3 baseColor = vec3(0.66, 0.33, 0.98);
            float intensity = v_z * u_brightness;
            intensity += sin(u_time * 2.0) * 0.1;
            intensity = clamp(intensity, 0.0, 1.0);
            vec3 finalColor = baseColor * (0.8 + intensity);
            gl_FragColor = vec4(finalColor, 1.0);
        }
    `;
    const geometry = new THREE.PlaneGeometry(10, 10, 100, 100);
    const material = new THREE.ShaderMaterial({
        uniforms: {
            u_time: { value: 0.0 },
            u_speed: { value: 0.5 },
            u_frequency: { value: 1.0 },
            u_amplitude: { value: 0.2 },
            u_brightness: { value: 0.8 }
        },
        vertexShader, fragmentShader, side: THREE.DoubleSide
    });
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);
    camera.position.z = 2; camera.position.y = 1; camera.rotation.x = -Math.PI / 4;
    const clock = new THREE.Clock();
    const animate = () => {
        requestAnimationFrame(animate);
        material.uniforms.u_time.value = clock.getElapsedTime();
        mesh.rotation.z += 0.0005;
        renderer.render(scene, camera);
    };
    animate();
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // --- Modal and Auth Logic ---
    let user = null;
    const loginForm = document.getElementById('loginForm');
    const registerModal = document.getElementById('registerModal');
    const forgotModal = document.getElementById('forgotModal');
    const dashboardModal = document.getElementById('dashboardModal');
    const registerLink = document.getElementById('registerLink');
    const forgotLink = document.getElementById('forgotLink');
    const registerBtn = document.getElementById('registerBtn');
    const resetBtn = document.getElementById('resetBtn');
    const closeDashboard = document.getElementById('closeDashboard');

    // Ensure modals hidden initially
    registerModal.style.display = 'none';
    forgotModal.style.display = 'none';
    dashboardModal.style.display = 'none';

    // Show Register modal
    registerLink.onclick = (e) => {
        e.preventDefault();
        registerModal.style.display = 'flex';
    };

    // Show Forgot modal ONLY when clicked
    forgotLink.onclick = (e) => {
        e.preventDefault();
        forgotModal.style.display = 'flex';
    };

    // Close modals when clicking outside
    registerModal.onclick = (e) => { if(e.target === registerModal) registerModal.style.display='none'; };
    forgotModal.onclick = (e) => { if(e.target === forgotModal) forgotModal.style.display='none'; };

    // Register
    registerBtn.onclick = () => {
        const name = document.getElementById('regName').value.trim();
        const email = document.getElementById('regEmail').value.trim();
        const password = document.getElementById('regPassword').value.trim();
        if(!name || !email || !password) { alert('Fill all fields'); return; }
        user = {name, email, password};
        registerModal.style.display = 'none';
        alert('Registration successful!');
    };

    // Reset password
    resetBtn.onclick = () => {
        const email = document.getElementById('resetEmail').value.trim();
        const newPassword = document.getElementById('resetPassword').value.trim();
        if(!user || email !== user.email) { alert('Email not found'); return; }
        user.password = newPassword;
        forgotModal.style.display = 'none';
        alert('Password reset successful!');
    };

    // Login
    loginForm.onsubmit = (e) => {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value.trim();
        const password = document.getElementById('loginPassword').value.trim();
        if(!user || email !== user.email || password !== user.password) {
            alert('Invalid credentials');
            return;
        }
        dashboardModal.style.display = 'flex';
    };

    // Close Dashboard modal
    closeDashboard.onclick = () => {
        dashboardModal.style.display = 'none';
    };

    // Close dashboard modal when clicking outside
    dashboardModal.onclick = (e) => {
        if(e.target === dashboardModal) dashboardModal.style.display = 'none';
    };
})();
</script>
</body>
</html>
